<div class="container">
    <div class="row vh-100" id="details">
        <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
            <div class="card card-signin my-5 shadow">
                <div class="card-body">
                    <img class="img-fluid mx-auto d-block m-3" src="../assets/logo.svg" />
                    <h2 class="card-title text-left">Enter Details</h2>

                    <form #detailsForm="ngForm" (ngSubmit)="(detailsForm.form.valid)" class="detailsForm">
                        <div class="form-group">
                            <input type="text" name="firstName" placeholder="First Name" class="form-control" [(ngModel)]="newParticipant.firstName" #firstName="ngModel" [ngClass]="{'is-invalid': firstName.touched && firstName.invalid}" required/>

                            <div class="invalid-feedback" *ngIf="firstName.touched && firstName.invalid">
                                <p *ngIf="firstName.errors.required">First name is required</p>
                            </div>
                        </div>

                        <div class="form-group">
                            <input type="text" name="lastName" placeholder="Last Name" class="form-control" [(ngModel)]="newParticipant.lastName" #lastName="ngModel" [ngClass]="{
                  'is-invalid': lastName.touched && lastName.invalid
                }" required />

                            <div class="invalid-feedback" *ngIf="lastName.touched && lastName.invalid">
                                <p *ngIf="lastName.errors.required">Last name is required</p>
                            </div>
                        </div>

                        <div class="form-group">
                            <input type="number" name="age" placeholder="Age" min="10" class="form-control" [(ngModel)]="newParticipant.age" #age="ngModel" [ngClass]="{ 'is-invalid': age.touched && age.invalid }" required />

                            <div class="invalid-feedback" *ngIf="age.touched && age.invalid">
                                <p *ngIf="age.errors.required">Age is required</p>
                            </div>
                        </div>

                        <div class="form-group">
                            <select class="form-control" id="power" required (ngModelChange)="getSelectedValue($event)" #gender="ngModel" [ngModel]="selectedValue" [ngClass]="{
                  'is-invalid': gender.touched && gender.value == '1'
                }" [ngModelOptions]="{ standalone: true }">
                <option *ngFor="let option of options" [value]="option.value">
                  {{ option.label }}
                </option>
              </select>
                        </div>

                        <button (click)="getQuizDetails(getURLQuizID())" class="btn btn-lg btn-primary btn-block" type="submit" [disabled]="!detailsForm.form.valid">
              Continue
            </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz" id="quiz">
        <img class="img-fluid mx-auto d-block m-5" src="../assets/logo.svg" />

        <div class="" id="quizDetails" *ngFor="let item of detailsResponse">
            <h1 class="text-center mt-3 font-weight-bold">{{ item.Title }}</h1>
            <p class="text-center">{{ item.Description }}</p>
        </div>

        <form [formGroup]="quizForm" (ngSubmit)="checkForAnswer();" id="formQA">
            <div class="form-check text-center question_{{ i }}" id="question" *ngFor="let item of contentData; let i = index" [attr.data-index]="i">
                <h4>{{ item.question }}</h4>
                <div class="answerDiv" *ngFor="let obj of item.options; let j = index" [attr.data-index]="j">
                    <input class="form-check-input option_{{ j }}" type="checkbox" id="option" value="{{ obj.value }}" />
                    <label class="form-check-label text-dark" id="value{{ j }}">{{
            obj.value
          }}</label>
                </div>
            </div>
            <button type="submit" class="btn btn-lg btn-primary btn-block">
        Submit
      </button>
        </form>
    </div>

    <div class="" id="report">
        <img class="img-fluid mx-auto d-block m-5" src="../assets/logo.svg" />

        <div class="" id="reportDetails" *ngFor="let item of detailsResponse">
            <h1 class="text-center mt-3 font-weight-bold">{{ item.Title }}</h1>
            <p class="text-center">{{ item.Description }}</p>
            <br />

            <div class="results" *ngFor="let item2 of pxtQuizResponse">
                <h3 class="text-center">Your score:</h3>
                <h1 class="text-center text-dark">{{ item2.score }}%</h1>
                <br />
                <table class="table">
                    <thead>
                        <tr>
                            <th style="width: 50%" class="text-center" scope="col">
                                Question
                            </th>
                            <th style="width: 50%" class="text-center" scope="col">
                                Correct
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let questionResponse of item2.attemptData">
                            <td class="text-center">{{ questionResponse.question }}</td>
                            <td class="text-center text-capitalize">
                                {{ questionResponse.isCorrect }}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <p class="text-center text-dark m-5">
            Thank you for completing this quiz. Have a nice day!
        </p>
    </div>
</div>